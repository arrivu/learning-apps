 <br>
 <% provide(:title, 'A Smarter Way to Learn') %>
 <% provide(:effectingHeader) %>
 <%= render 'shared/course_header' %>

 <script>
    $(document).ready(function () {
        $('label.tree-toggler').click(function () {
            $(this).parent().children('ul.tree').toggle(300);
        });
    });
</script>


   <div class="container-fluid">
<div class="row-fluid span8">
<ul class="nav pull-right" style="margin-right: 85px;">
          <li id="fat-menu" class="dropdown btn" style="color:black;">
            <a href="#" class="dropdown-toggle" data-toggle="dropdown" style=" font-size: 1.2em;
                    position: relative;color:black; ">Tags&nbsp;<b class="caret" style="border-left: 7px solid transparent;border-right: 7px solid transparent;border-top: 7px solid #34495E;"></b></a>
            <ul class="dropdown-menu">

              <% @domain_root_account.tags.each do |tag| %>
                  <li><%= link_to tag.name, tagged_courses_path(tag:tag) %></li>
              <%end%>

            </ul>
          </li>
        </ul>
        <ul class="nav pull-right" style="margin-right:20px;">
         <li id="fat-menu" class="dropdown btn" >
          <a href="#" class="dropdown-toggle" data-toggle="dropdown" style=" font-size: 1.2em;
          position: relative;color:black; ">Sort By&nbsp;&nbsp;<b class="caret" style="border-left: 7px solid transparent;border-right: 7px solid transparent;border-top: 7px solid #34495E;"></b></a>
          
          <ul class="dropdown-menu">
            
           <li><%= link_to "Date" + " ( #{Course.where(is_published: 1,:is_concluded=>false,account_id: @account_id).order(:created_at).size} )", datewise_courses_path %></li>
           <li><%= link_to "Upcoming" + " ( #{Course.where(is_published: 0, :is_concluded=>false,account_id: @account_id).all.size} )", upcomming_courses_path %></li>
           <li><%= link_to "Popularity" + " ( #{Course.where(is_popular: 1,is_published: 1, :is_concluded=>false,account_id: @account_id).size} )", popular_courses_path %></li>
           <li><%= link_to "Subscribed"+ " ( #{StudentCourse.where(:status =>"enroll").map(&:course_id).uniq.size} )", subscribed_courses_path %></li> 
           <li><%= link_to "Default" + " ( #{Course.where(is_published: 1,:is_concluded=>false,account_id: @account_id).size} )", courses_path %></li>
           
         </ul>
       </li>
     </ul>

     <ul class="nav pull-right" style="margin-right:20px;">
       <li id="fat-menu" class="dropdown btn" style="color:black;">
        <a href="#" class="dropdown-toggle" data-toggle="dropdown" style=" font-size: 1.2em;
        position: relative;color:black; ">Categories&nbsp;<b class="caret" style="border-left: 7px solid transparent;border-right: 7px solid transparent;border-top: 7px solid #34495E;"></b></a>
        <ul class="dropdown-menu">
          <li><%= link_to "All" + " ( #{Course.where(is_published: 1, :is_concluded=>false,account_id: @account_id).all.size} )", courses_path %></li>
          <% @topics.each do |topic| %>
          <% @topicStructure = topic.name + " ( #{topic.courses.count} )" %>
          <li><%= link_to @topicStructure, topic %></li>
          <%end%>    
        </ul>
      </li>
    </ul>

</div>
</div>
  </div>
  <div class="span12" style="width:100%;">
          <ol class="breadcrumb" style="margin-left:30px;">
  <li><a href="/">Home</a>/</li>
  <li><a href="#" class="active" >Courses</a></li>  
    </ol>
 <div class="span2" style="margin-left:0px;">

     <div class="well" style="width:100%; padding: 8px 0;">
      <h4 style="text-align: center;">All Categories</h4>
<%= nested_topics_for_course @topics.arrange(:order => :created_at) %>
       </div>
   </div>
   <div class="span10">
         <%= render 'shared/courselist' %>

</div>
 </div>
 </div>
 <div class='apple_pagination' align="center" style="margin-left:447px;">
   <%= will_paginate @courses, :container => true %>
 </div>
 </div>

